---
title: Listen for events
topic: events
type: how-to
roles:
  - THIRD_PARTY_DEVELOPER
  - OPERATOR
sourceExamples:
  - examples/grpcurl/thirdpartydev/events/get-events.sh
  - examples/kotlin/thirdpartydev/events/src/main/kotlin/com/wgtwo/examples/thirdpartydev/events/GetEvents.kt
  - examples/kotlin/thirdpartydev/events/src/main/kotlin/com/wgtwo/examples/thirdpartydev/events/GetEventsManualAck.kt

---

# How to listen for Events

## Overview

The event API allows you to subscribe to a variety of different events generated by Cisco's systems.

The examples will start a subscription to voice and voicemail events, which includes call initiated, call ended and
new voicemail received.

## Event types

| Event type            | Required right                         |
|-----------------------|----------------------------------------|
| CONSENT_REVOKE_EVENT  |                                        |
| HANDSET_UPDATE_EVENT  | `events.handset_update.subscribe`      |
| LOCATION_UPDATE_EVENT | `events.location.subscribe`            |
| ROAMING_EVENT         | `events.roaming.subscribe`             |
| SMS_EVENT             | `events.sms.subscribe`                 |
| SMS_DELIVERY_EVENT    | `events.sms_delivery_report.subscribe` |
| VOICE_EVENT           | `events.voice.subscribe`               |
| VOICEMAIL_EVENT       | `events.voicemail.subscribe`           |

#### Consent revoke
This event will fire when the OAuth2.0 consent is revoked for a subscription.

It allows the application to cleanup user state. This may either be via our
revoke flow or from customer support.

#### Handset update
This event will fire when a SIM card is used in a new device.

It will contain the previous and current IMEI.

#### Location update
This event will fire when the handset is registering at a new location.

#### Roaming
This event will fire on the first location update in a new country.

It will contain the country code and name for the previous and current country.

#### Sms
This event will fire every time an SMS is sent or received by the handset.

This contains the from and to address in addition to the actual content of the SMS.

#### Sms delivery report
This event will fire when a SMS delivery report is generated.

This contains the from and to address, and the status for the SMS sent.

#### Voice
This will fire for when a call is initiated, ringing, answered, sent to voicemail or hung up.
It will contain from and to number, call ID and which type of call event it is.

#### Voicemail
This will fire when a voicemail is left for a subscription.

It contains from and to number and the ID of the voicemail. The actual content of the voicemail may be retrieved by
a separate API using this ID.


## Listen for events
See full example implementation for Java: [Maven starter - Listen for events](https://github.com/working-group-two/sample-apps/tree/main/java/maven-starter-listen-for-events).

<CodeSnippet
  :grpcurl="$sourceExamplesMap['examples/grpcurl/thirdpartydev/events/get-events.sh']"
  :kotlinDeps="['event-grpc', 'utils-grpc']"
  :kotlin="$sourceExamplesMap['examples/kotlin/thirdpartydev/events/src/main/kotlin/com/wgtwo/examples/thirdpartydev/events/GetEvents.kt']"
  />

## Manual acknowledge
In the below example we enable manual acknowledgement, and set a custom ack timeout.

<CodeSnippet
  :kotlinDeps="['event-grpc', 'utils-grpc', 'protobuf-java-util']"
  :kotlin="$sourceExamplesMap['examples/kotlin/thirdpartydev/events/src/main/kotlin/com/wgtwo/examples/thirdpartydev/events/GetEventsManualAck.kt']"
  />

## Concepts
* [Three types of stubs: asynchronous, blocking, and future](https://grpc.io/docs/reference/java/generated-code/)
* [gRPC Concepts](https://grpc.io/docs/guides/concepts/)
