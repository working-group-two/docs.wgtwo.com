---
title: Listen for events
topic: events
type: how-to
codeEvents: https://github.com/working-group-two/docs.wgtwo.com/blob/master/examples/events/src/main/kotlin/GetEvents.kt
codeEventsManualAcks: https://github.com/working-group-two/docs.wgtwo.com/blob/master/examples/events/src/main/kotlin/GetEventsManualAck.kt
---

# How to listen for Events

## Overview

The event API allows you to subscribe to a variety of different events generated by Working Group Two's systems.

The examples will start a subscription to voice and voicemail events, which includes call initiated, call ended and
new voicemail received.

##### Required rights

| Event type            | Required right                 |
|-----------------------|--------------------------------|
| VOICE_EVENT           | `events.voice.subscribe`       |
| VOICEMAIL_EVENT       | `events.voicemail.subscribe`   |
| LOCATION_UPDATE_EVENT | `events.location.subscribe`    |
| ROAMING_EVENT         | `events.roaming.subscribe`     |
| TOKEN_AUDIT_EVENT     | `events.audit.token.subscribe` |

Your rights can be configured in [Console](https://console.wgtwo.com/api-keys-redirect)

<DemoConfigurer />

## grpcurl

Setup streaming of events, without manual acknowledgment:
```shell script
grpcurl \
  -H "Authorization: Basic ${OPERATOR_TOKEN}"\
  -import-path . \
  -proto wgtwo/events/v0/events.proto \
  -d '
  {
    "type": ["VOICE_EVENT"]
  }
  ' \
  api.wgtwo.com:443 \
  wgtwo.events.v0.EventsService.Subscribe
```

## Java / Kotlin

### Install dependencies
<JitpackDependency />

Then you can add `event-grpc` and `utils-grpc`:

<ClientDependencies :clients="['events-grpc', 'utils-grpc']"/>

### Listen for events
<GithubCode :to="$frontmatter.codeEvents" />

### Manual acknowledge
In the below example we enable manual acknowledgement, and setting a custom ack timeout.

Include Google's Protocol Buffers utility library for support of Google's Well-Known Types:
<ClientDependencies :clients="['protobuf-java-util']"/>

<GithubCode :to="$frontmatter.codeEventsManualAcks" />

## Concepts
* [Three types of stubs: asynchronous, blocking, and future](https://grpc.io/docs/reference/java/generated-code/)
* [gRPC Concepts](https://grpc.io/docs/guides/concepts/)
