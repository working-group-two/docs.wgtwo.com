(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{IHp4:function(t,e,s){"use strict";s.r(e);var a=s("KHd+"),n=s("UQSp"),r=s("Kw5r");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}r.a.config.optionMergeStrategies;var p={VueRemarkRoot:n.a},i=function(t){var e=t.options.components=t.options.components||{},s=t.options.computed=t.options.computed||{};Object.keys(p).forEach((function(t){"object"===o(p[t])&&"function"==typeof p[t].render||"function"==typeof p[t]&&"function"==typeof p[t].options.render?e[t]=p[t]:s[t]=function(){return p[t]}}))},c=r.a.config.optionMergeStrategies,l="__vueRemarkFrontMatter",v={excerpt:null,title:"Get started",topic:"intro",type:"tutorial",typeOrder:1,roles:["THIRD_PARTY_DEVELOPER","OPERATOR"]};var u=function(t){t.options[l]&&(t.options[l]=v),r.a.util.defineReactive(t.options,l,v),t.options.computed=c.computed({$frontmatter:function(){return t.options[l]}},t.options.computed)},_=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("VueRemarkRoot",[s("h1",{attrs:{id:"get-started"}},[s("a",{attrs:{href:"#get-started","aria-hidden":"true"}},[t._v("#")]),t._v("Get started")]),s("p",[s("strong",[t._v("This guide will show you how to start using our APIs with a hands on tutorial for listening to events.")])]),s("h2",{attrs:{id:"download-proto-descriptions"}},[s("a",{attrs:{href:"#download-proto-descriptions","aria-hidden":"true"}},[t._v("#")]),t._v("Download proto descriptions")]),s("p",[t._v("You can find our "),s("code",{pre:!0},[t._v(".proto")]),t._v(" files at "),s("a",{attrs:{href:"https://github.com/working-group-two/wgtwoapis",target:"_blank",rel:"nofollow noopener noreferrer"}},[t._v("https://github.com/working-group-two/wgtwoapis")])]),s("p",[t._v("Download the FileDescriptorSet for our APIs, which contains all our "),s("code",{pre:!0},[t._v(".proto")]),t._v(" files:")]),s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",{pre:!0,attrs:{class:"language-shell"}},[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -L "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://github.com/working-group-two/wgtwoapis/blob/master/image.bin?raw=true'")]),t._v(" -o wgtwo.bin ")])]),s("h2",{attrs:{id:"set-up-grpcurl"}},[s("a",{attrs:{href:"#set-up-grpcurl","aria-hidden":"true"}},[t._v("#")]),t._v("Set up gRPCurl")]),s("p",[t._v("We use "),s("a",{attrs:{href:"https://github.com/fullstorydev/grpcurl",target:"_blank",rel:"nofollow noopener noreferrer"}},[t._v("gRPCurl")]),t._v(" to invoke the gRPC APIs in this guide.")]),s("p",[t._v("If you don't have gRPCurl installed, you may run it through Docker:")]),s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",{pre:!0,attrs:{class:"language-shell"}},[s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("grpcurl")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  docker run -v "),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("pwd")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("/wgtwo.bin:/wgtwo.bin fullstorydev/grpcurl "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$@")]),t._v('"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])])]),s("h2",{attrs:{id:"sandbox-environment"}},[s("a",{attrs:{href:"#sandbox-environment","aria-hidden":"true"}},[t._v("#")]),t._v("Sandbox environment")]),s("p",[t._v("Our sandboxed environment is hosted at "),s("code",{pre:!0},[t._v("apisandbox.dub.prod.wgtwo.com")]),t._v(".")]),s("p",[t._v("This is a mock implementation of our gRPC APIs, and does not require any authentication.")]),s("h3",{attrs:{id:"setup-event-streaming"}},[s("a",{attrs:{href:"#setup-event-streaming","aria-hidden":"true"}},[t._v("#")]),t._v("Setup event streaming")]),s("blockquote",[s("p",[s("strong",[t._v("Note:")]),t._v(" This stream will timeout. If it happens while running these examples, just re-run the command.")])]),s("p",[t._v("This will send you all the available events of type "),s("code",{pre:!0},[t._v("SMS_EVENT")]),t._v(":")]),s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",{pre:!0,attrs:{class:"language-shell"}},[t._v("grpcurl -protoset wgtwo.bin "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  -d "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'{ "type": ["SMS_EVENT"] }\'')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  apisandbox.dub.prod.wgtwo.com:443 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  wgtwo.events.v0.EventsService.Subscribe")])]),s("p",[t._v("You should be able to see mock events such as:")]),s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",{pre:!0,attrs:{class:"language-json"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"event"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"smsEvent"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"3990fb66-eea0-42ef-9699-1af05516ce00"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"fromE164"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"e164"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"+46724450024"')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"toE164"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"e164"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"+4799977540"')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"direction"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"FROM_SUBSCRIBER"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"text"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"uuid"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"b922f707-f6ce-4369-b816-1051bfa40e0d"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"owner"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"phoneNumber"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"e164"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"+46724450024"')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])])]),s("p",[t._v("Leave the command running for the next step.")]),s("h3",{attrs:{id:"send-sms"}},[s("a",{attrs:{href:"#send-sms","aria-hidden":"true"}},[t._v("#")]),t._v("Send SMS")]),s("p",[t._v("Open a new terminal and run the following command:")]),s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",{pre:!0,attrs:{class:"language-shell"}},[t._v("grpcurl -protoset wgtwo.bin "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  -d "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'{\n        "content": "This is a test message",\n        "from_subscriber": { "e164": "+4799990000" },\n        "to_e164": { "e164": "+46724450000" }\n      }\'')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  apisandbox.dub.prod.wgtwo.com:443 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  wgtwo.sms.v0.SmsService/SendTextFromSubscriber")])]),s("p",[t._v(" This will send a test SMS and trigger a "),s("code",{pre:!0},[t._v("SMS_EVENT")]),t._v(".")]),s("p",[t._v(" You should see something like this in the current terminal:")]),s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",{pre:!0,attrs:{class:"language-json"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"requestId"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"478be859-614e-4d34-84dd-4ae9d1d0066b"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"status"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SEND_OK"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])])]),s("p",[t._v(" And something like this in your first terminal (that's listening for events):")]),s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",{pre:!0,attrs:{class:"language-json"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"event"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"smsEvent"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"478be859-614e-4d34-84dd-4ae9d1d0066b"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"fromE164"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"e164"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"+4799990000"')]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"toE164"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"e164"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"+46724450000"')]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"direction"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"FROM_SUBSCRIBER"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"text"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"This is a test message"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"uuid"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"478be859-614e-4d34-84dd-4ae9d1d0066b"')]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"owner"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"phoneNumber"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"e164"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"+46724450024"')]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])])]),s("h3",{attrs:{id:"explore-the-api"}},[s("a",{attrs:{href:"#explore-the-api","aria-hidden":"true"}},[t._v("#")]),t._v("Explore the API")]),s("p",[t._v("For exploring the API we recommend "),s("a",{attrs:{href:"https://github.com/fullstorydev/grpcui",target:"_blank",rel:"nofollow noopener noreferrer"}},[t._v("gRPC UI")]),t._v(".")]),s("p",[t._v("If you don't have "),s("strong",[t._v("gRPC UI")]),t._v(" installed, you may run it through Docker:")]),s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",{pre:!0,attrs:{class:"language-shell"}},[t._v("$ docker run -v "),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("pwd")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("/wgtwo.bin:/wgtwo.bin -p "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8080")]),t._v(":8080 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  fullstorydev/grpcui -protoset wgtwo.bin apisandbox.dub.prod.wgtwo.com:443\n$ "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# - or -")]),t._v("\n$ grpcui -protoset wgtwo.bin apisandbox.dub.prod.wgtwo.com:443")])]),s("h2",{attrs:{id:"production-environment"}},[s("a",{attrs:{href:"#production-environment","aria-hidden":"true"}},[t._v("#")]),t._v("Production environment")]),s("p",[t._v("Our production environment is hosted at "),s("code",{pre:!0},[t._v("api.wgtwo.com")]),t._v(".")]),s("p",[t._v("This part of the guide will show you how to create a OAuth 2.0 token and use that to connected to our event stream.")]),s("h3",{attrs:{id:"create-oauth-20-client"}},[s("a",{attrs:{href:"#create-oauth-20-client","aria-hidden":"true"}},[t._v("#")]),t._v("Create OAuth 2.0 client")]),s("p",[t._v("Before you start, see "),s("a",{attrs:{href:"/oauth-2-0/create-o-auth-2-0-client/"}},[t._v("Create OAuth 2.0 client")]),t._v(". You need enable the scope "),s("code",{pre:!0},[t._v("events.sms.subscribe")]),t._v(".")]),s("h3",{attrs:{id:"get-access-token-using-the-client-credentials-flow"}},[s("a",{attrs:{href:"#get-access-token-using-the-client-credentials-flow","aria-hidden":"true"}},[t._v("#")]),t._v("Get access token (using the Client Credentials Flow)")]),s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",{pre:!0,attrs:{class:"language-shell"}},[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -s -u "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${CLIENT_ID}")]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${CLIENT_SECRET}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# <- Replace CLIENT_ID & CLIENT_SECRET \\")]),t._v("\n    --request POST "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n    --url "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://id.wgtwo.com/oauth2/token'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n    --header "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'content-type: application/x-www-form-urlencoded'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n    --data "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("grant_type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"client_credentials"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n    --data "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("scope")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"events.sms.subscribe"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" jq "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")])])]),s("h3",{attrs:{id:"setup-stream-listening-for-events"}},[s("a",{attrs:{href:"#setup-stream-listening-for-events","aria-hidden":"true"}},[t._v("#")]),t._v("Setup stream listening for events")]),s("blockquote",[s("p",[s("strong",[t._v("Note:")]),t._v(" This stream will timeout. We expect you to automatically reconnect when that happens.")]),s("p",[t._v("For details, see: "),s("a",{attrs:{href:"/events/configuration-and-types/#recommended-production-configuration"}},[t._v("Configuration and types 〉 Recommended production configuration")]),t._v(".")])]),s("p",[t._v("This will send you all the available events of type "),s("code",{pre:!0},[t._v("SMS_EVENT")]),t._v(". As nobody has consented to share their events to you,\nthe stream will be silent until someone has given consent and sent an SMS.")]),s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",{pre:!0,attrs:{class:"language-shell"}},[t._v("grpcurl -H "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Authorization: Bearer '),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${ACCESS_TOKEN}")]),t._v('"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  -protoset wgtwo.bin "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  -d "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'{ "type": ["SMS_EVENT"] }\'')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  api.wgtwo.com:443 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  wgtwo.events.v0.EventsService.Subscribe")])]),s("h4",{attrs:{id:"example-code-for-go"}},[s("a",{attrs:{href:"#example-code-for-go","aria-hidden":"true"}},[t._v("#")]),t._v("Example code for Go")]),s("h5",{attrs:{id:"download-and-run-code-example"}},[s("a",{attrs:{href:"#download-and-run-code-example","aria-hidden":"true"}},[t._v("#")]),t._v("Download and run code example")]),s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",{pre:!0,attrs:{class:"language-shell"}},[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -sL https://github.com/working-group-two/docs.wgtwo.com/raw/master/examples/go/events/main.go -o main.go\ngo mod init example\ngo mod tidy\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("CLIENT_ID")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${CLIENT_ID}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("CLIENT_SECRET")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${CLIENT_SECRET}")]),t._v(" go run main.go")])]),s("p",[s("strong",[t._v("Example source code: "),s("code",{pre:!0},[t._v("main.go")])]),s("GithubCode",{attrs:{fileUrl:"https://github.com/working-group-two/docs.wgtwo.com/blob/master/examples/go/events/main.go"}})],1),s("h2",{attrs:{id:"whats-next"}},[s("a",{attrs:{href:"#whats-next","aria-hidden":"true"}},[t._v("#")]),t._v("What's next?")]),s("h3",{attrs:{id:"i-am-building-a-subscriber-product"}},[s("a",{attrs:{href:"#i-am-building-a-subscriber-product","aria-hidden":"true"}},[t._v("#")]),t._v("I am building a subscriber product")]),s("p",[t._v("All APIs, except the event API, will require an access token obtained via the "),s("a",{attrs:{href:"/oauth-2-0/get-user-access-token/"}},[t._v("Authorization Code Grant")]),t._v(".")]),s("p",[t._v("By implementing this flow, your users can authenticate on our platform and grant consent to your application. Once this flow is up, and users have consented, you will start getting events.")]),s("p",[t._v("There is a special event named "),s("code",{pre:!0},[t._v("CONSENT_REVOKE_EVENT")]),t._v(" that you must listen for, as this will fire if the\nconsent is removed by the user through e.g. customer support. See "),s("a",{attrs:{href:"/oauth-2-0/support-revoking-consent/"}},[t._v("support revoking consent")]),t._v(". This event does not require a explicit scope.")]),s("p",[t._v("When you are done testing, you can submit your product so that it can be reviewed and listed in our marketplace.")]),s("h3",{attrs:{id:"i-am-building-an-operator-product"}},[s("a",{attrs:{href:"#i-am-building-an-operator-product","aria-hidden":"true"}},[t._v("#")]),t._v("I am building an operator product")]),s("p",[t._v("You can contact us directly at "),s("a",{attrs:{href:"mailto:products@wgtwo.com",target:"_blank",rel:"nofollow noopener noreferrer"}},[t._v("products@wgtwo.com")]),t._v(" in order to add test subscription(s) to your product.\nUnfortunately, at this time it is not possible to do this yourself.")]),s("p",[t._v("When you are done with your testing, you may submit your product so that it can be reviewed and listed in our marketplace.")]),s("h2",{attrs:{id:"summary"}},[s("a",{attrs:{href:"#summary","aria-hidden":"true"}},[t._v("#")]),t._v("Summary")]),s("p",[t._v("In this tutorial we have looked at getting mocked events using gRPC (using "),s("strong",[t._v("gRPCurl")]),t._v(" and "),s("strong",[t._v("gRPC UI")]),t._v("). We have sent an SMS and seen it appear in the events stream. We've also looked at creating a OAuth 2.0 client and moving to the production environment. We've also briefly mentioned publishing your product to a marketplace.")]),s("p",[t._v("These steps; integrating, moving to production, publishing to a marketplace; are the fundemental steps needed to launch a product on our platform.")])])}),[],!1,null,null,null);"function"==typeof i&&i(_),"function"==typeof u&&u(_);e.default=_.exports},UQSp:function(t,e,s){"use strict";e.a={name:"VueRemarkRoot",render:function(t){return t("div",null,this.$slots.default)}}}}]);