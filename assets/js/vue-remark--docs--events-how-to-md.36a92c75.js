(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{MZxt:function(e,t,r){"use strict";r.r(t);var n=r("7uw+"),o=r("UQSp"),a=r("Kw5r");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a.a.config.optionMergeStrategies;var s={VueRemarkRoot:o.a},v=function(e){var t=e.options.components=e.options.components||{},r=e.options.computed=e.options.computed||{};Object.keys(s).forEach((function(e){"object"===i(s[e])&&"function"==typeof s[e].render||"function"==typeof s[e]&&"function"==typeof s[e].options.render?t[e]=s[e]:r[e]=function(){return s[e]}}))},d=a.a.config.optionMergeStrategies,l="__vueRemarkFrontMatter",p={excerpt:null,title:"Listen for events",topic:"events",type:"how-to",roles:["THIRD_PARTY_DEVELOPER","OPERATOR"],sourceExamples:["examples/grpcurl/thirdpartydev/events/get-events.sh","examples/kotlin/thirdpartydev/events/src/main/kotlin/com/wgtwo/examples/thirdpartydev/events/GetEvents.kt","examples/kotlin/thirdpartydev/events/src/main/kotlin/com/wgtwo/examples/thirdpartydev/events/GetEventsManualAck.kt"]};var c=function(e){e.options[l]&&(e.options[l]=p),a.a.util.defineReactive(e.options,l,p),e.options.computed=d.computed({$frontmatter:function(){return e.options[l]}},e.options.computed)},u=Object(n.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("VueRemarkRoot",[r("h1",{attrs:{id:"how-to-listen-for-events"}},[r("a",{attrs:{href:"#how-to-listen-for-events","aria-hidden":"true"}},[e._v("#")]),e._v("How to listen for Events")]),r("h2",{attrs:{id:"overview"}},[r("a",{attrs:{href:"#overview","aria-hidden":"true"}},[e._v("#")]),e._v("Overview")]),r("p",[e._v("The event API allows you to subscribe to a variety of different events generated by Working Group Two's systems.")]),r("p",[e._v("The examples will start a subscription to voice and voicemail events, which includes call initiated, call ended and\nnew voicemail received.")]),r("h2",{attrs:{id:"event-types"}},[r("a",{attrs:{href:"#event-types","aria-hidden":"true"}},[e._v("#")]),e._v("Event types")]),r("table",[r("thead",[r("tr",[r("th",[e._v("Event type")]),r("th",[e._v("Required right")])])]),r("tbody",[r("tr",[r("td",[e._v("CONSENT_REVOKE_EVENT")]),r("td")]),r("tr",[r("td",[e._v("HANDSET_UPDATE_EVENT")]),r("td",[r("code",{pre:!0},[e._v("events.handset_update.subscribe")])])]),r("tr",[r("td",[e._v("LOCATION_UPDATE_EVENT")]),r("td",[r("code",{pre:!0},[e._v("events.location.subscribe")])])]),r("tr",[r("td",[e._v("ROAMING_EVENT")]),r("td",[r("code",{pre:!0},[e._v("events.roaming.subscribe")])])]),r("tr",[r("td",[e._v("SMS_EVENT")]),r("td",[r("code",{pre:!0},[e._v("events.sms.subscribe")])])]),r("tr",[r("td",[e._v("SMS_DELIVERY_EVENT")]),r("td",[r("code",{pre:!0},[e._v("events.sms_delivery_report.subscribe")])])]),r("tr",[r("td",[e._v("VOICE_EVENT")]),r("td",[r("code",{pre:!0},[e._v("events.voice.subscribe")])])]),r("tr",[r("td",[e._v("VOICEMAIL_EVENT")]),r("td",[r("code",{pre:!0},[e._v("events.voicemail.subscribe")])])])])]),r("h4",{attrs:{id:"consent-revoke"}},[r("a",{attrs:{href:"#consent-revoke","aria-hidden":"true"}},[e._v("#")]),e._v("Consent revoke")]),r("p",[e._v("This event will fire when the OAuth2.0 consent is revoked for a subscription.")]),r("p",[e._v("It allows the application to cleanup user state. This may either be via our\nrevoke flow or from customer support.")]),r("h4",{attrs:{id:"handset-update"}},[r("a",{attrs:{href:"#handset-update","aria-hidden":"true"}},[e._v("#")]),e._v("Handset update")]),r("p",[e._v("This event will fire when a SIM card is used in a new device.")]),r("p",[e._v("It will contain the previous and current IMEI.")]),r("h4",{attrs:{id:"location-update"}},[r("a",{attrs:{href:"#location-update","aria-hidden":"true"}},[e._v("#")]),e._v("Location update")]),r("p",[e._v("This event will fire when the handset is registering at a new location.")]),r("h4",{attrs:{id:"roaming"}},[r("a",{attrs:{href:"#roaming","aria-hidden":"true"}},[e._v("#")]),e._v("Roaming")]),r("p",[e._v("This event will fire on the first location update in a new country.")]),r("p",[e._v("It will contain the country code and name for the previous and current country.")]),r("h4",{attrs:{id:"sms"}},[r("a",{attrs:{href:"#sms","aria-hidden":"true"}},[e._v("#")]),e._v("Sms")]),r("p",[e._v("This event will fire every time an SMS is sent or received by the handset.")]),r("p",[e._v("This contains the from and to address in addition to the actual content of the SMS.")]),r("h4",{attrs:{id:"sms-delivery-report"}},[r("a",{attrs:{href:"#sms-delivery-report","aria-hidden":"true"}},[e._v("#")]),e._v("Sms delivery report")]),r("p",[e._v("This event will fire when a SMS delivery report is generated.")]),r("p",[e._v("This contains the from and to address, and the status for the SMS sent.")]),r("h4",{attrs:{id:"voice"}},[r("a",{attrs:{href:"#voice","aria-hidden":"true"}},[e._v("#")]),e._v("Voice")]),r("p",[e._v("This will fire for when a call is initiated, ringing, answered, sent to voicemail or hung up.\nIt will contain from and to number, call ID and which type of call event it is.")]),r("h4",{attrs:{id:"voicemail"}},[r("a",{attrs:{href:"#voicemail","aria-hidden":"true"}},[e._v("#")]),e._v("Voicemail")]),r("p",[e._v("This will fire when a voicemail is left for a subscription.")]),r("p",[e._v("It contains from and to number and the ID of the voicemail. The actual content of the voicemail may be retrieved by\na separate API using this ID.")]),r("h2",{attrs:{id:"listen-for-events"}},[r("a",{attrs:{href:"#listen-for-events","aria-hidden":"true"}},[e._v("#")]),e._v("Listen for events")]),r("p",[e._v("See full example implementation for Java: "),r("a",{attrs:{href:"https://github.com/working-group-two/sample-apps/tree/main/java/maven-starter-listen-for-events",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("Maven starter - Listen for events")]),e._v(".")]),r("CodeSnippet",{attrs:{grpcurl:e.$sourceExamplesMap["examples/grpcurl/thirdpartydev/events/get-events.sh"],kotlinDeps:["event-grpc","utils-grpc"],kotlin:e.$sourceExamplesMap["examples/kotlin/thirdpartydev/events/src/main/kotlin/com/wgtwo/examples/thirdpartydev/events/GetEvents.kt"]}}),r("h2",{attrs:{id:"manual-acknowledge"}},[r("a",{attrs:{href:"#manual-acknowledge","aria-hidden":"true"}},[e._v("#")]),e._v("Manual acknowledge")]),r("p",[e._v("In the below example we enable manual acknowledgement, and set a custom ack timeout.")]),r("CodeSnippet",{attrs:{kotlinDeps:["event-grpc","utils-grpc","protobuf-java-util"],kotlin:e.$sourceExamplesMap["examples/kotlin/thirdpartydev/events/src/main/kotlin/com/wgtwo/examples/thirdpartydev/events/GetEventsManualAck.kt"]}}),r("h2",{attrs:{id:"concepts"}},[r("a",{attrs:{href:"#concepts","aria-hidden":"true"}},[e._v("#")]),e._v("Concepts")]),r("ul",[r("li",[r("a",{attrs:{href:"https://grpc.io/docs/reference/java/generated-code/",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("Three types of stubs: asynchronous, blocking, and future")])]),r("li",[r("a",{attrs:{href:"https://grpc.io/docs/guides/concepts/",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("gRPC Concepts")])])])],1)}),[],!1,null,null,null);"function"==typeof v&&v(u),"function"==typeof c&&c(u);t.default=u.exports},UQSp:function(e,t,r){"use strict";t.a={name:"VueRemarkRoot",render:function(e){return e("div",null,this.$slots.default)}}}}]);